<div class="row">
  <h3 *ngIf="currentState === state.Adding">Ajout d'un utilisateur</h3>
  <h3 *ngIf="currentState === state.Updating">Modification d'un utilisateur</h3>
</div>

<hr>

<div class="alert alert-danger" *ngIf="error">
  {{error}}
</div>

<form #createUpdateUserForm="ngForm" *ngIf="model">

  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Firstname *</label>
      <input type="text" class="form-control" placeholder="Firstname"
             required [(ngModel)]="model.firstname" name="firstname">
    </div>

    <div class="form-group col-md-6">
      <label>Lastname *</label>
      <input type="text" class="form-control" placeholder="Lastname"
             required [(ngModel)]="model.lastname" name="lastname">
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-4">
      <label>Email *</label>
      <input type="email" class="form-control" placeholder="john@doe.fr"
             required [(ngModel)]="model.email" name="email">
    </div>

    <div class="form-group col-md-4">
      <label>Phone</label>
      <input type="text" class="form-control" placeholder="00 00 00 00 00"
             [(ngModel)]="model.phone" name="phone">
    </div>

    <div class="form-group col-md-4">
      <label>Website</label>
      <input type="text" class="form-control" placeholder="www.john.doe"
             [(ngModel)]="model.website" name="website">
    </div>
  </div>

  <div class="form-group">
    <label>Address</label>
    <input type="text" class="form-control" placeholder="1234 Main St" [(ngModel)]="model.address.street" name="street">
  </div>

  <div class="form-row">
    <div class="form-group col-md-8">
      <label>City</label>
      <input type="text" class="form-control" placeholder="city" [(ngModel)]="model.address.city" name="city">
    </div>
    <div class="form-group col-md-4">
      <label>Zip</label>
      <input type="text" class="form-control" placeholder="zipcode" [(ngModel)]="model.address.zipcode" name="zipcode">
    </div>
  </div>

  <div [ngSwitch]="currentState">
    <button type="submit" class="btn btn-outline-primary"
            (click)="updateUser()"
            *ngSwitchCase="state.Updating"
            [disabled]="!createUpdateUserForm.form.valid || loading">
      Modifier
    </button>

    <button type="submit" class="btn btn-outline-success"
            (click)="addUser()"
            *ngSwitchCase="state.Adding"
            [disabled]="!createUpdateUserForm.form.valid || loading">
      Ajouter
    </button>
  </div>

</form>
